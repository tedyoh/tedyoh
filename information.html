<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>회원 정보 등록</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" 
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>

<body>
    <div class="container">
        <div>이름 : <input type="text" id="name" value=""/></div>
        <div>지역 : 
            <select id="city" onchange="changeCity();">
                <!-- <option value="02" selected>서울</option>
                <option value="064">제주</option> -->
            </select>
        </div>
        <div>동네 :
            <select id = "region_02">
                <option value="">강남</option>
                <option value="">서초</option>
            </select>
            <select id = "region_064" style="display:none;">
                <option value="">제주시</option>
                <option value="">서귀포시</option>
            </select>
            <select id = "region_051" style="display:none;">
                <option value="">부산광역시</option>
                <option value="">해운대구</option>
            </select>
        </div>
        <!-- <div>테스트 : <input type="text" id="test" value=""/></div> -->
        <div>상세주소 : <input type="상세주소" id="address" value=""/></div>
        <div>핸드폰번호 : <input type="상세주소" id="mobile" value=""/></div>
        <button type="button" onclick="regist();">등록</button>
    </div>
    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" 
        integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" 
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" 
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous">
    </script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" 
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous">
    </script>
    
    <script>
        function regist() {
            alert(document.getElementById("name").value); //== alert($("#name").val());
            alert(document.getElementById("city").value); //== alert($("#city").val());
            document.getElementById("name").value; 

            // jquery에서 $를 가지고 시작함. #은 id를 의미함.
            // alert($("#name").val());
            // alert($("#city").val());

            let obj = {};
            // let obj = {
            //     obj2: {

            //     }, 
            //     arr:[]
            // }
     
            obj.name = $("#name").val();
            obj.city = $("#city").val();

            printConsole(obj);
            printConsole2(name, city);
        }

        // 실제로 서버 database에서 가져온 데이터라고 가정할때
        function loadCity() {
            let city = [{
                    code:"02", 
                    name:"서울"
                },
                {
                    code:"064", 
                    name:"제주"
                },
                {
                    code:"051", 
                    name:"부산"
                }
            ];
            for(let i = 0 ; i<city.length ; i++) {
                if(i==0) {
                    $('#city').append('<option value="' + city[i].code + '" selected>' + city[i].name + '</option>');
                }
                //else if
                else {
                    $('#city').append('<option value="' + city[i].code + '">' + city[i].name + '</option>');
                }
            }
        }

        loadCity();

        printConsole.log(city);

        function printConsole(data) {
            console.log(data);
        }

        function printConsole2(name, city) {
            console.log(name, city);
        }

        function changeCity() {
            let city = document.getElementById("city").value;
            document.getElementById("region_02").style.display="none";
            document.getElementById("region_064").style.display="none";

            document.getElementById("region_"+city).style.display="";
            
            // jquery에서는
            //let city = $('#city').val();
            //$('#region_02').hide();
            //$('#region_064').hide();
            //$('#region_051').hide();
            //$('#region_'+city).show(); 
        }
    </script>
</body>

</html>